boolean guard =  millis() - time > debounce;
    if ({condition}  && guard) {{
        time = millis();
        {next_state}();
    }}
    else {{
        {current_state_name}();
    }}